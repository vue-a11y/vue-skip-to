import{openBlock as t,createBlock as e,withModifiers as n,renderSlot as o,createTextVNode as i,toDisplayString as s,resolveComponent as l,createVNode as a,Fragment as r,renderList as u,withKeys as c,withCtx as d,resolveDynamicComponent as p,mergeProps as f}from"vue";function h(t,e=1e3){t.setAttribute("tabindex","-1"),t.focus(),setTimeout((()=>t.removeAttribute("tabindex")),e)}const m=new RegExp("^(a|select|input|button|textarea)","i"),b={name:"VueSkipToSingle",props:{label:{type:String,default:"Skip to main content"},to:{type:String,default:"#main"}},methods:{handleFocusElement({target:t}){this.focusElement(t.getAttribute("href").substring(1))},focusElement(t){if(!t)return;const e=window.document.getElementById(t);return e?m.test(e.tagName.toLowerCase())?void e.focus():h(e):void 0}}};b.render=function(l,a,r,u,c,d){return t(),e("a",{href:r.to,onClick:a[1]||(a[1]=n(((...t)=>d.handleFocusElement&&d.handleFocusElement(...t)),["prevent"])),onFocus:a[2]||(a[2]=t=>l.$emit("focused",!0)),onBlur:a[3]||(a[3]=t=>l.$emit("focused",!1)),class:"vue-skip-to__link"},[o(l.$slots,"default",{},(()=>[i(s(r.label),1)]))],40,["href"])};const g={name:"VueSkipToList",props:{listLabel:{type:String,default:"Skip to"},to:{validator:function(t){return Array.isArray(t)&&t.every((({anchor:t,label:e})=>"string"==typeof t&&0===t.indexOf("#")&&"string"==typeof String(e)))}}},components:{VueSkipToSingle:b},methods:{handleKeydown({key:t,target:e}){const n=e.parentElement,o=/(ArrowUp|Up)/g.test(t)?n.previousElementSibling:n.nextElementSibling;if(!o)return;const i=o.getElementsByTagName("a");i.length&&i[0].focus()}}},y={class:"vue-skip-to__nav","aria-labelledby":"list-title"},k={id:"list-title"},S={class:"vue-skip-to__nav-list"};g.render=function(o,p,f,h,m,b){const g=l("VueSkipToSingle");return t(),e("nav",y,[a("span",k,s(f.listLabel),1),a("ul",S,[(t(!0),e(r,null,u(f.to,(l=>(t(),e("li",{key:l.anchor,class:"vue-skip-to__nav-list-item",onKeydown:[p[2]||(p[2]=c(n(((...t)=>b.handleKeydown&&b.handleKeydown(...t)),["prevent"]),["up"])),p[3]||(p[3]=c(n(((...t)=>b.handleKeydown&&b.handleKeydown(...t)),["prevent"]),["down"]))]},[a(g,{to:l.anchor,onFocused:p[1]||(p[1]=t=>o.$emit("focus-within",t)),"aria-label":l.ariaLabel||l.label},{default:d((()=>[i(s(l.label),1)])),_:2},1032,["to","aria-label"])],32)))),128))])])};const v={name:"VueSkipTo",props:{listLabel:{type:String,default:"Skip to"},label:{type:String,default:"Skip to main content"},to:{type:[String,Array],default:"#main"}},data:()=>({focused:!1}),mounted(){this.$route&&this.$watch("$route.path",(()=>{this.$nextTick((()=>h(this.$refs.skipTo)))}))},computed:{isList(){return Array.isArray(this.to)},comp(){return this.isList?g:b},props(){return this.isList?{listLabel:this.listLabel,to:this.to}:{label:this.label,to:this.to}}},methods:{focusWithin(t){this.focused=t}}};function w(t){t.component("VueSkipTo",v)}v.render=function(n,o,i,s,l,a){return t(),e("div",{class:["vue-skip-to",{focused:l.focused}],ref:"skipTo"},[(t(),e(p(a.comp),f({onFocused:a.focusWithin,onFocusWithin:a.focusWithin},a.props),null,16,["onFocused","onFocusWithin"]))],2)};export default w;
